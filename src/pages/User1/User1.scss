// user1页面基础容器：全屏布局
.user1-page {
  width: 100%;
  height: 100vh;
  overflow: hidden; // 新增：避免内容溢出视口
  box-sizing: border-box; // 新增：统一盒模型

  // 页面背景图：全屏固定，低层级背景
  .back-img {
    position: fixed;
    // 修复：SCSS中background属性不能嵌套，拆分为独立属性
    background-image: url("/assets/image.png"); // 优化：改为绝对路径，避免层级问题
    background-repeat: no-repeat;
    background-position: center center; // 修正：原position: center为错误写法，改为center center
    background-attachment: fixed;
    background-size: cover; // 新增：背景图覆盖全屏，避免拉伸变形
    width: 100%;
    height: 100vh;
    z-index: -1;
    opacity: 0.8; // 新增：降低透明度，增强前景内容对比度
    transition: opacity 0.5s ease; // 新增：背景过渡动画
  }
}

// 页面核心容器：全屏固定，控制子元素布局
.user1-container {
  position: fixed;
  width: 100%;
  height: 100vh;
  box-sizing: border-box;

  // 页面头部
  .user1-header {
    width: 100%;
    height: 20%;
    padding: 1vw; // 新增：内边距，避免内容贴边
  }

  // 核心内容区：70%宽度居中，白色背景框
  .user1-content {
    width: clamp(300px, 70%, 1200px); // 响应式宽度，适配手机/PC
    margin: 0 auto;
    height: 80vh;
    position: relative;
    background-color: #f8faf8; // 统一为十六进制颜色，便于维护
    // 修复：border嵌套语法错误，补充bottom边框，统一颜色
    border: {
      left: 2px solid #f9f3f3;
      right: 2px solid #eee7e7;
      top: 2px solid #f0e9e9;
      bottom: 2px solid #f0e9e9; // 新增：补充底部边框，样式统一
      radius: 8px; // 增大圆角，更现代
    };
    box-shadow: 0 4px 12px rgba(0,0,0,0.08); // 新增：轻阴影，提升立体感

    // 上传区域
    .user-post {
      width: 100%;
      height: 18vh;
      position: absolute;
      top: 0%;
      padding: 1vw; // 新增：内边距，避免内容贴边
      box-sizing: border-box;
    }

    // 结果展示区
    .user-show {
      width: 80%;
      height: calc(100% - 18vh - 3.5vw - 10px); // 修复：inherit改为动态计算，避免高度溢出
      position: absolute;
      top: calc(18vh + 3.5vw + 10px);
      left: 10%;
      border: {
        left: 2px solid #f9f3f3;
        right: 2px solid #eee7e7;
        top: 2px solid #f0e9e9;
        bottom: 2px solid #f0e9e9; // 新增：补充底部边框
      };
      border-radius: 6px; // 新增：圆角，与外层统一
      background-color: #fff; // 新增：白色背景，提升内容可读性
      overflow: auto; // 新增：内容溢出时滚动，避免遮挡
    }
  }
}

// 通用按钮样式：统一复用
.btnstyle {
  border: 1px solid #ede6e6; // 统一为十六进制颜色
  border-radius: 8px; // 增大圆角，更现代
  text-align: center;
  margin-right: clamp(10px, 2vw, 20px); // 响应式间距
  width: clamp(80px, 15%, 150px); // 响应式宽度，避免小屏幕过窄
  padding: 0.5vw 1vw; // 新增：内边距，扩大点击区域
  font: {
    size: clamp(14px, 1.2vw, 18px); // 响应式字号
    family: "宋体", "SimSun", sans-serif; // 字体兜底，兼容不同系统
  };
  color: #333;
  transition: all 0.3s ease; // 新增：过渡动画，hover更流畅
  background-color: #fff; // 新增：默认白色背景，统一样式

  &:hover {
    cursor: pointer;
    background-color: #f0f0f0;
    text-decoration: underline;
    color: #2980b9; // 优化hover颜色，贴合环保主题
    box-shadow: 0 2px 6px rgba(0,0,0,0.1); // 新增：hover阴影，增强交互
  }
}

// 上传弹窗：全屏遮罩+居中弹窗
.postWindow {
  position: fixed;
  width: 100%;
  height: 100vh;
  z-index: 100; // 提升层级，避免被其他元素遮挡

  // 黑色半透明遮罩
  .black-back {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 1;
    backdrop-filter: blur(2px); // 新增：毛玻璃效果，提升视觉层次
  }

  // 弹窗主体：居中白色背景框 → 核心修改：改为flex布局，垂直排列预览图和按钮
  .post-window {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: clamp(300px, 50%, 800px); // 响应式宽度
    height: clamp(200px, 50%, 600px); // 响应式高度
    background-color: white;
    z-index: 2;
    border-radius: 8px; // 新增：圆角，更现代
    box-shadow: 0 8px 24px rgba(0,0,0,0.15); // 新增：弹窗阴影，增强立体感
    // 核心修改1：改为flex垂直布局，让预览图和按钮区分层
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 2vw; // 新增：内边距，避免内容贴边

    // 预览图片 → 调整margin，避免和按钮重叠
    img {
      display: block; // 新增：块级元素，margin生效
      margin: 0 auto 2vw; // 核心修改2：底部增加2vw间距，和按钮区拉开距离
      width: clamp(150px, 60%, 500px); // 核心修改3：加宽预览图（从40%→60%），更清晰
      height: auto;
      max-height: 70%; // 核心修改4：限制预览图最大高度，避免占满弹窗
      object-fit: contain; // 新增：保持图片比例，不拉伸
      border-radius: 6px; // 新增：图片圆角
    }
  }

  // 弹窗操作按钮区 → 核心修改：取消绝对定位，改为相对定位
  .opt {
    // 核心修改5：删除absolute定位，改为相对定位，跟随预览图下方
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    gap: 1vw; // 新增：统一间距，替代margin-right
    margin-top: 1vw; // 新增：顶部间距，和预览图分开

    // 更换文件按钮：继承通用按钮样式
    .change-file-button {
      @extend .btnstyle;
    }

    // 识别按钮：继承通用样式，单独指定背景
    .identify-btn {
      @extend .btnstyle;
      background-color: #fff;
      &:hover {
        background-color: #e8f4f8; // 优化hover背景，更柔和
      }
    }
  }
}